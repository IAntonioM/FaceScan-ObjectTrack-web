<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registrar Pertenencia</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../css/identificar-estudiante.css">
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  
</head>
<body>
  <style>
    #camera-container {
    width: 100%;
    max-width: 640px;
    margin: 0 auto;
}

#camera-stream {
    width: 100%;
    max-width: 640px;
    height: auto;
    display: block;
}
  </style>
  <div class="header">
    <span class="titulo">REGISTRAR PERTENECIA</span>
    <button class="btn btn-secondary" id="menuBtn" onclick="menu()"> Volver </button>
  </div>
  <div class="container">
    
    <div id="camera-container">
      <video id="camera-stream" autoplay></video>
  </div>
  </div>
  <script>
    // Elementos del DOM
const cameraStream = document.getElementById('camera-stream');
const switchCameraBtn = document.getElementById('switch-camera');

// Variables para controlar la cámara
let stream;
let isFrontCamera = true;

// Función para obtener la cámara
async function getCamera() {
    try {
        const constraints = {
            video: {
                facingMode: isFrontCamera ? 'user' : 'environment'
            }
        };
        stream = await navigator.mediaDevices.getUserMedia(constraints);
        cameraStream.srcObject = stream;
    } catch (error) {
        console.error('Error al acceder a la cámara:', error);
    }
}

// Función para cambiar la cámara
function switchCamera() {
    if (stream) {
        stream.getTracks().forEach(track => track.stop());
    }
    isFrontCamera = !isFrontCamera;
    getCamera();
}

// Iniciar la cámara
getCamera();

// Evento de clic en el botón para cambiar la cámara
switchCameraBtn.addEventListener('click', switchCamera);
  </script>
</body>
</html>
<div>